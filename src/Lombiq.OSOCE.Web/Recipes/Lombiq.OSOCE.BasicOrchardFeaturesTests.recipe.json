{
  "name": "Lombiq.OSOCE.BasicOrchardFeaturesTests",
  "displayName": "TEST: Basic Orchard Features",
  "description": "Setup recipe for automated UI test execution, checking the basic Orchard features. See the BasicOrchardFeaturesTests test.",
  "author": "Lombiq Technologies",
  "website": "https://github.com/Lombiq/Open-Source-Orchard-Core-Extensions",
  "version": "1.0",
  "issetuprecipe": true,
  "categories": [
    "test"
  ],
  "tags": [
    "test"
  ],
  "steps": [
    {
      "name": "recipes",
      "Values": [
        {
          "executionid": "Lombiq.OSOCE.Web",
          "name": "Lombiq.OSOCE.Tests"
        }
      ]
    },
    {
      "name": "feature",
      "disable": [
        // No point in having the privacy consent popup for these tests.
        "Lombiq.Privacy"
      ],
      "enable": [
        "OrchardCore.Users.Registration"
      ]
    },
    {
      "name": "settings",
      "RegistrationSettings": {
        "UsersCanRegister": 1,
        "UsersMustValidateEmail": false,
        "UsersAreModerated": false
      }
    },
    {
      "name": "ReplaceContentDefinition",
      "ContentTypes": [
        {
          "Name": "Taxonomy",
          "DisplayName": "Taxonomy",
          "Settings": {
            "ContentTypeSettings": {
              "Creatable": false,
              "Listable": true,
              "Draftable": true,
              "Versionable": true
            }
          },
          "ContentTypePartDefinitionRecords": [
            {
              "PartName": "TitlePart",
              "Name": "TitlePart",
              "Settings": {
                "ContentTypePartSettings": {
                  "Position": "1"
                }
              }
            },
            {
              "PartName": "AliasPart",
              "Name": "AliasPart",
              "Settings": {
                "ContentTypePartSettings": {
                  "Position": "2"
                },
                "AliasPartSettings": {
                  "Pattern": "{{ Model.ContentItem | display_text | slugify }}"
                }
              }
            },
            {
              "PartName": "AutoroutePart",
              "Name": "AutoroutePart",
              "Settings": {
                "ContentTypePartSettings": {
                  "Position": "3"
                },
                "AutoroutePartSettings": {
                  "Pattern": "{{ Model.ContentItem | display_text | slugify }}",
                  "AllowRouteContainedItems": true
                }
              }
            },
            {
              "PartName": "TaxonomyPart",
              "Name": "TaxonomyPart",
              "Settings": {
                "ContentTypePartSettings": {
                  "Position": "4"
                }
              }
            }
          ]
        },
        {
          "Name": "Article",
          "DisplayName": "Article",
          "Settings": {
            "ContentTypeSettings": {
              "Creatable": false,
              "Draftable": true,
              "Versionable": true,
              "Listable": true
            }
          },
          "ContentTypePartDefinitionRecords": [
            {
              "PartName": "Article",
              "Name": "Article",
              "Settings": {
                "ContentTypePartSettings": {
                  "Position": "3"
                }
              }
            },
            {
              "PartName": "AutoroutePart",
              "Name": "AutoroutePart",
              "Settings": {
                "AutoroutePartSettings": {
                  "AllowCustomPath": true,
                  "Pattern": "{{ Model.ContentItem | display_text | slugify }}",
                  "ShowHomepageOption": true
                },
                "ContentTypePartSettings": {
                  "Position": "1"
                }
              }
            },
            {
              "PartName": "HtmlBodyPart",
              "Name": "HtmlBodyPart",
              "Settings": {
                "ContentTypePartSettings": {
                  "Editor": "Wysiwyg",
                  "Position": "2"
                }
              }
            },
            {
              "PartName": "TitlePart",
              "Name": "TitlePart",
              "Settings": {
                "ContentTypePartSettings": {
                  "Position": "0"
                }
              }
            }
          ]
        },
        {
          "Name": "Blog",
          "DisplayName": "Blog",
          "Settings": {
            "ContentTypeSettings": {
              "Creatable": false,
              "Draftable": true,
              "Versionable": true,
              "Listable": true,
              "Securable": true
            }
          },
          "ContentTypePartDefinitionRecords": [
            {
              "PartName": "TitlePart",
              "Name": "TitlePart",
              "Settings": {
                "ContentTypePartSettings": {
                  "Position": "0"
                }
              }
            },
            {
              "PartName": "AutoroutePart",
              "Name": "AutoroutePart",
              "Settings": {
                "ContentTypePartSettings": {
                  "Position": "1"
                },
                "ContentIndexSettings": {
                  "Included": false,
                  "Stored": false,
                  "Analyzed": false,
                  "Sanitized": false,
                  "Tokenized": false,
                  "Template": null
                },
                "AutoroutePartSettings": {
                  "AllowCustomPath": true,
                  "Pattern": "{{ Model.ContentItem | display_text | slugify }}",
                  "ShowHomepageOption": true
                }
              }
            },
            {
              "PartName": "Blog",
              "Name": "Blog",
              "Settings": {
                "ContentTypePartSettings": {
                  "Position": "3"
                }
              }
            },
            {
              "PartName": "HtmlBodyPart",
              "Name": "HtmlBodyPart",
              "Settings": {
                "ContentTypePartSettings": {
                  "Position": "2"
                }
              }
            },
            {
              "PartName": "ListPart",
              "Name": "ListPart",
              "Settings": {
                "ContentTypePartSettings": {
                  "Position": "4"
                },
                "ListPartSettings": {
                  "PageSize": 10,
                  "ContainedContentTypes": [
                    "BlogPost"
                  ]
                }
              }
            }
          ]
        }
      ],
      "ContentParts": [
        {
          "Name": "Blog",
          "Settings": {},
          "ContentPartFieldDefinitionRecords": [
            {
              "FieldName": "MediaField",
              "Name": "Image",
              "Settings": {
                "ContentPartFieldSettings": {
                  "DisplayName": "Banner Image",
                  "Position": "0"
                },
                "ContentIndexSettings": {
                  "Included": false,
                  "Stored": false,
                  "Analyzed": false,
                  "Sanitized": false,
                  "Tokenized": false,
                  "Template": null
                },
                "MediaFieldSettings": {
                  "Multiple": false,
                  "AllowAnchors": true
                }
              }
            }
          ]
        },
        {
          "Name": "Article",
          "Settings": {},
          "ContentPartFieldDefinitionRecords": [
            {
              "FieldName": "TextField",
              "Name": "Subtitle",
              "Settings": {
                "ContentPartFieldSettings": {
                  "DisplayName": "Subtitle",
                  "Position": "0"
                }
              }
            },
            {
              "FieldName": "MediaField",
              "Name": "Image",
              "Settings": {
                "ContentPartFieldSettings": {
                  "DisplayName": "Banner Image",
                  "Position": "0"
                },
                "MediaFieldSettings": {
                  "Multiple": false,
                  "AllowAnchors": true
                }
              }
            }
          ]
        }
      ]
    }
  ]
}
